@import "tailwindcss";

@layer base {
	:root {
		color-scheme: light dark;
	}

	html {
		height: 100%;
	}

	body {
		min-height: 100vh;
		margin: 0;
		@apply bg-slate-50 text-slate-900 antialiased;
		@apply dark:bg-slate-950 dark:text-slate-50;
	}

	a {
		@apply text-slate-900 underline underline-offset-2 dark:text-slate-50;
	}

	summary {
		@apply cursor-pointer;
	}

	h1 {
		@apply text-2xl font-semibold tracking-tight;
	}

	h2 {
		@apply text-lg font-semibold tracking-tight;
	}

	h4 {
		@apply text-base font-semibold text-slate-900 dark:text-slate-50;
	}

	ul {
		@apply mt-2 list-disc pl-5;
	}

	li {
		@apply mt-1;
	}
}

@layer components {
	/* Layout */
	.container {
		@apply mx-auto max-w-6xl px-5 py-8;
	}

	.header {
		@apply grid gap-2;
	}

	.sub {
		@apply text-sm text-slate-600 dark:text-slate-300;
	}

	.grid {
		@apply mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3;
	}

	.card {
		@apply rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm backdrop-blur;
		@apply dark:border-white/10 dark:bg-slate-900/40;
	}

	.big {
		@apply text-2xl font-semibold tracking-tight;
	}

	.small {
		@apply mt-1 text-sm text-slate-600 dark:text-slate-300;
	}

	.section {
		@apply mt-8;
	}

	.sectionHeader {
		@apply flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between;
	}

	.sectionHeader h2 {
		@apply text-lg font-semibold tracking-tight;
	}

	.sectionHeader .count {
		@apply text-sm text-slate-600 dark:text-slate-300;
	}

	/* Issue cards */
	.issue {
		@apply mt-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm;
		@apply dark:border-white/10 dark:bg-slate-950/40;
	}

	.issueHeader,
	.issueTop {
		@apply flex items-start justify-between gap-3;
	}

	.badges {
		@apply mb-2 flex flex-wrap items-center gap-2;
	}

	.sev {
		@apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold text-white;
	}

	.sev-critical {
		@apply bg-red-700 dark:bg-red-600;
	}

	.sev-serious {
		@apply bg-orange-700 dark:bg-orange-600;
	}

	.sev-moderate {
		@apply bg-amber-700 dark:bg-amber-600;
	}

	.sev-minor {
		@apply bg-emerald-700 dark:bg-emerald-600;
	}

	.sev-unknown {
		@apply bg-slate-600;
	}

	.occ {
		@apply inline-flex items-center rounded-full bg-slate-900/5 px-2 py-0.5 text-xs font-semibold text-slate-900;
		@apply dark:bg-white/10 dark:text-slate-50;
	}

	.pill {
		@apply inline-flex items-center rounded-full bg-slate-900/5 px-2 py-0.5 text-xs font-medium text-slate-900;
		@apply dark:bg-white/10 dark:text-slate-50;
	}

	.pill-muted {
		@apply opacity-70;
	}

	.desc {
		@apply mt-2 text-sm leading-relaxed text-slate-700 dark:text-slate-200;
	}

	.meta {
		@apply mt-1 text-xs text-slate-600 dark:text-slate-300;
	}

	.group {
		@apply mt-5;
	}

	.groupHeader {
		@apply flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between;
	}

	.groupHeader .name {
		@apply text-sm font-semibold text-slate-900 dark:text-slate-50;
	}

	.groupHeader .meta {
		@apply text-xs text-slate-600 dark:text-slate-300;
	}

	.sources {
		@apply mt-3;
	}

	.sources summary {
		@apply text-sm text-slate-600 dark:text-slate-300;
	}

	.sourceList {
		@apply mt-2 grid gap-2;
	}

	.source {
		@apply rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs;
		@apply dark:border-white/10 dark:bg-white/5;
		font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
	}

	/* Remediation doc helpers */
	.kicker {
		@apply mt-2 text-sm text-slate-700 dark:text-slate-200;
	}

	.title {
		@apply text-sm font-semibold text-slate-900 dark:text-slate-50;
	}

	.reco {
		@apply mt-3 rounded-2xl border border-slate-200 bg-slate-50 p-4;
		@apply dark:border-white/10 dark:bg-white/5;
	}

	details.reco {
		@apply mt-3;
	}

	.footer {
		@apply mt-8 text-xs text-slate-500 dark:text-slate-400;
	}
}
